# Mesh UV Mask Generator for Unity

Unity エディタ拡張で、選択したメッシュの UV レイアウトからマスクテクスチャを生成するツールです。

## 機能

- **8つのUVチャンネル対応**: UV0〜UV7まで全てのUVチャンネルをサポート
- **2つのレンダリングモード**:
  - ワイヤーフレームモード（UV境界線のみ表示）
  - 塗りつぶしモード（ポリゴン全体を塗りつぶし）
- **カスタマイズ可能な設定**:
  - テクスチャサイズ（256〜4096ピクセル）
  - 背景色とマスク色
  - 線の太さ（ワイヤーフレームモード時）
- **リアルタイムプレビュー**: エディタウィンドウ内で生成結果を即座に確認
- **PNG形式でエクスポート**: 生成したマスクをアセットとして保存

## インストール

1. `Assets/Editor/` フォルダを作成（既に存在する場合はスキップ）
2. `MeshUVMaskGenerator.cs` を `Assets/Editor/` フォルダにコピー

## 使用方法

### 1. エディタウィンドウを開く
メニューバーから `Window > Mesh UV Mask Generator` を選択

### 2. メッシュを選択
Hierarchy または Project ビューで以下のいずれかを選択：
- MeshFilter コンポーネントを持つ GameObject
- SkinnedMeshRenderer コンポーネントを持つ GameObject

### 3. 設定を調整

#### UV設定
- **UV Channel**: 使用するUVチャンネルを選択（UV0〜UV7）

#### テクスチャ設定
- **Texture Size**: 出力テクスチャの解像度
- **Background Color**: 背景色
- **Mask Color**: UVマスクの色

#### レンダリング設定
- **Fill Polygons**: チェックすると塗りつぶしモード、外すとワイヤーフレームモード
- **Line Thickness**: ワイヤーフレームモード時の線の太さ

### 4. マスクを生成
「Generate UV Mask」ボタンをクリックして生成

### 5. 保存
プレビューを確認後、「Save Texture As...」ボタンでPNG形式で保存

## 使用例

### テクスチャ制作での活用
- UV レイアウトの確認用テンプレート
- Substance Painter などでのマスク素材
- UV の歪みチェック

### シェーダー開発での活用
- UV座標のデバッグ用テクスチャ
- UV アニメーション用のマスク生成
- マルチ UV チャンネルの可視化

## 技術仕様

### 対応Unity バージョン
Unity 2019.4 以降

### 対応メッシュ形式
- MeshFilter のメッシュ
- SkinnedMeshRenderer のメッシュ

### アルゴリズム
- **ワイヤーフレーム描画**: Bresenham のライン描画アルゴリズムを使用
- **ポリゴン塗りつぶし**: 重心座標を用いた三角形内部判定
- **エッジ重複除去**: ハッシュセットによる描画済みエッジの管理

## 注意事項

- UV座標が 0-1 の範囲外にある場合も正しく描画されます
- 大きなメッシュや高解像度設定では生成に時間がかかる場合があります
- メモリ使用量はテクスチャサイズに比例します（4096x4096 で約64MB）

## ライセンス

MIT License